(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7477"],{"9rC1":function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return c});var i=n("DG18");n("Qyje");function a(t){return Object(i.b)("/intention/v2/review",t)}function s(t){return Object(i.b)("/intention/v2/returnVisit",t)}function r(t){return Object(i.b)("/intention/v2/detail",t)}function o(t){return Object(i.a)("/performance/person/detail",t)}function l(t){return Object(i.b)("/performance/person/index",t)}function u(t){return Object(i.b)("/intention/returnVisitTask",t)}function c(t){return Object(i.b)("/intention/visit/confirm",t)}},Ma1l:function(t,e,n){"use strict";var i=n("s/9y");n.n(i).a},QDog:function(t,e,n){"use strict";e.a={followStatusList:[{name:"很有兴趣",id:1},{name:"较感兴趣",id:2},{name:"一般/可继续跟进",id:3},{name:"挂断/不回复/强硬抵触",id:4},{name:"关机/未接通/可再拨打",id:5},{name:"空号/无效/资料不符",id:6},{name:"完结需求",id:7}],followUpCountList:[{name:"0次",id:0},{name:"1次",id:1},{name:"2次",id:2},{name:"3次",id:3},{name:"4次",id:4},{name:"5次",id:5},{name:"6次",id:6}],statusList:[{name:"待上架",id:0},{name:"已上架",id:1}],endDemandReason:[{name:"已经在对接中",id:1},{name:"已经处理好了",id:2},{name:"目前需要重新考虑",id:3},{name:"目前暂时不需要办理了",id:4}]}},Y5bG:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),Math.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function a(t,e,n){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=t-a,r=0;e=void 0===e?500:e;!function t(){r+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(r,a,s,e)),r<e?i(t):n&&"function"==typeof n&&n()}()}},ZySA:function(t,e,n){"use strict";var i=n("P2sY"),a=n.n(i),s=(n("jUE0"),{bind:function(t,e){t.addEventListener("click",function(n){var i=a()({},e.value),s=a()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),r=s.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var o=r.getBoundingClientRect(),l=r.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",r.appendChild(l)),s.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(n.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(n.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=s.color,l.className="waves-ripple z-active",!1}},!1)}}),r=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(r)),s.install=r;e.a=s},dXAr:function(t,e,n){"use strict";n.r(e);var i=n("ZySA"),a=n("Mz3J"),s=n("QDog"),r=n("9rC1"),o=n("se8R"),l={components:{Pagination:a.a},directives:{waves:i.a},data:function(){return{listQuery:{pageNum:1,pageSize:10,phone:"",date:"",startDate:"",endDate:"",intentionCode:"",areaCode:""},listLoading:!1,listData:[],followUpCountList:s.a.followUpCountList,followStatusList:s.a.followStatusList,intentionCodeList:[],areaCodeList:[],total:0,value:"",props:{value:"code",label:"name",children:"childs",checkStrictly:!0}}},created:function(){this.getSearchList(),this.getIntentionTrees(),this.getAddressTrees()},methods:{getList:function(){for(var t=this,e=0;e<this.listData.length;e++)this.listData[e].timer&&(window.clearInterval(this.listData[e].timer),this.listData[e].timer=null,this.listData[e].time=0);this.listLoading=!0;var n={};for(var i in this.listQuery)""!==this.listQuery[i]&&(n[i]=this.listQuery[i]);Object(r.b)(n).then(function(e){if(0==e.code){t.listData=e.data.items;for(var n=function(e){if(4!=t.listData[e].status&&(t.listData[e].time=parseInt(new Date(t.listData[e].expireTime).getTime()/1e3-(new Date).getTime()/1e3),t.listData[e].timer=setInterval(function(){t.listData[e].time--,t.$set(t.listData,e,t.listData[e]),t.listData[e].time<=0&&(t.listData[e].status=4,clearInterval(t.listData[e].timer))},1e3)),t.listData[e].extra&&""!=t.listData[e].extra){t.listData[e].extraArr=JSON.parse(t.listData[e].extra);for(var n=0;n<t.listData[e].extraArr.length;n++)"100"==t.listData[e].extraArr[n].propCode&&(t.listData[e].serviceRequirements=t.listData[e].extraArr[n].valueName)}},i=0;i<t.listData.length;i++)n(i);t.total=e.data.total,t.listLoading=!1}}).catch(function(e){t.listLoading=!1})},getSearchList:function(){this.listQuery.pageNum=1,this.listQuery.pageSize=10,this.getList()},dateChange:function(t){t?(this.listQuery.startDate=this.listQuery.date[0],this.listQuery.endDate=this.listQuery.date[1]):(this.listQuery.startDate="",this.listQuery.endDate=""),this.getSearchList()},getIntentionTrees:function(){var t=this;Object(o.d)().then(function(e){0==e.code&&(t.intentionCodeList=e.data)})},getAddressTrees:function(){var t=this;Object(o.a)().then(function(e){0==e.code&&(t.areaCodeList=e.data)})},intentionCodeChange:function(t){this.listQuery.intentionCode=t[t.length-1],this.getSearchList()},areaCodeChange:function(t){this.listQuery.areaCode=t[t.length-1],this.getSearchList()},lookDetail:function(t){this.$router.push({path:"/customer/reviewDetail",query:{id:t.id}})}}},u=(n("Ma1l"),n("KHd+")),c=Object(u.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"review"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"请输入手机号/四位尾号"},model:{value:t.listQuery.phone,callback:function(e){t.$set(t.listQuery,"phone",e)},expression:"listQuery.phone"}}),t._v(" "),n("el-cascader",{staticClass:"filter-item",attrs:{options:t.intentionCodeList,clearable:"",props:t.props,"show-all-levels":!1,placeholder:"请选择业务需求"},on:{change:t.intentionCodeChange}}),t._v(" "),n("el-date-picker",{staticClass:"filter-item datePicker",attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss",editable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.dateChange},model:{value:t.listQuery.date,callback:function(e){t.$set(t.listQuery,"date",e)},expression:"listQuery.date"}}),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getSearchList}},[t._v("搜索")])],1),t._v(" "),n("div",{staticClass:"table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.listData,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"序号",type:"index",index:1,width:"50px",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"称呼",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"工作手机",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"textHidden"},[t._v(t._s(e.row.phone))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"业务类型",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[n("el-tag",[t._v(t._s(e.row.intention&&""!=e.row.intention?e.row.intention:"未知需求"))])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"更新时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.lastModifyTime))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"询价单",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.distributedCount+"/"+e.row.totalCount))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"需求状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[1==e.row.status?n("el-tag",[t._v(t._s(t._f("demandStatusFilters")(e.row.status)))]):t._e(),t._v(" "),2==e.row.status?n("el-tag",{attrs:{type:"success"}},[t._v(t._s(t._f("demandStatusFilters")(e.row.status)))]):t._e(),t._v(" "),3==e.row.status?n("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t._f("demandStatusFilters")(e.row.status)))]):t._e(),t._v(" "),4==e.row.status?n("el-tag",{attrs:{type:"danger"}},[t._v(t._s(t._f("demandStatusFilters")(e.row.status)))]):t._e()],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"回访时限",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.time>0?n("span",[n("el-tag",{attrs:{type:"info"}},[t._v(t._s(t._f("timeFilters")(e.row.time)))])],1):t._e(),t._v(" "),0==e.row.time?n("span"):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作员",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.opName))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){t.lookDetail(e.row)}}},[t._v("查看详情")])]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.pageNum,limit:t.listQuery.pageSize},on:{"update:page":function(e){t.$set(t.listQuery,"pageNum",e)},"update:limit":function(e){t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)])},[],!1,null,"095f5594",null);c.options.__file="review.vue";e.default=c.exports},jUE0:function(t,e,n){},"s/9y":function(t,e,n){},se8R:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return o});var i=n("DG18");function a(){return Object(i.a)("/address/globalTrees")}function s(t){return Object(i.a)("/intention/city_trees",t)}function r(){return Object(i.a)("/intention/trees")}function o(t){return Object(i.a)("/intention/service/extend",t)}}}]);